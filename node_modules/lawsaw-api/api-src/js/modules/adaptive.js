$(function() {

    var $win = $(window);

    var state = rangeToState();

    function rangeToState(width) {
        //width = width || $win.width()
        width = width || getViewportSize().width;

        for(var size in siteOptions.responsive) {
            if(width < siteOptions.responsive[size]) return siteOptions.responsive[size];
        }

        return Infinity;
    }

    $win.trigger('adaptive', state);

    $win.on('resize', function() {
        var tempState = rangeToState();
        if(state !== tempState) {
            state = tempState;
            $win.trigger('adaptive', state);
        }
    })
});


