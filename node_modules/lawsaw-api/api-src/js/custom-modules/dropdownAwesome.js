var dropdownAwesome= {

    'default': {
        'container'     : '.dropdownAwesome',
        'classActive'   : 'dropdownAwesome--active',
        'front'         : '.dropdownAwesome-front',
        'frontLink'     : '.dropdownAwesome-front-link',
        'frontValue'    : '.dropdownAwesome-front-value',
        'back'          : '.dropdownAwesome-back',
        'backLink'      : '.dropdownAwesome-back-list-item-link',
    },

    'init': function(options) {
        var options = siteOptions.setOptions({
            defaults: this.default,
            source: isExist(options) ? options : {}
        }),
            parentObj = this;
        $(document).find(options.container).each(function(){
            var dropdown = $(this);

            $(dropdown).on('click', options.frontLink, function(){

                if(siteOptions.isMobile()) {
                    parentObj.buildMobileLayout(options);
                } else {
                    $(dropdown).addClass(options.classActive);
                }
                //$(dropdown).addClass(options.classActive);

            });

            $(dropdown).on('click', options.backLink, function(){
                var value = $(this).html(),
                    frontValue = $(dropdown).find(options.frontValue)[0];
                frontValue.innerHTML = value;
                $(dropdown).removeClass(options.classActive);
            });

            $(document).on('click', function(e){
                if( $(e.target).closest(options.container).length > 0 && $(options.container).hasClass(options.classActive) ) { return false; }
                $(dropdown).removeClass(options.classActive);
            });

        });
    },

    'buildMobileLayout': function(options) {
        var id = (Math.random() * (9999 - 1000 + 1) + 1000) | 0,
            back = $(options.container).find(options.back).html(),
            layout = ''+
                '' +
                '<div id="dropdownAwesomeWrap-' + id + '" class="dropdownAwesomeWrap">' +
                    '<div class="dropdownAwesomeWrap-win">' +
                        '' + back + '' +
                    '</div>' +
                '</div>' +
                '';

        $(siteOptions.wrap.main()).append(layout);

        var window = $(siteOptions.wrap.main()).find('#dropdownAwesomeWrap-' + id)[0];

        $(document).on('click', '#dropdownAwesomeWrap-' + id, function(e){

            var win = $(e.target).closest('.dropdownAwesomeWrap-win');

            if (win.length) {

                var link = $(e.target).closest(options.backLink);

                if (!link.length) { return false; }

            };

            $(window).remove();

        });

    },


};
